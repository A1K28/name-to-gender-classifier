{"version":3,"sources":["logo.svg","gender-classifier/translit.js","gender-classifier/predict.js","gender-classifier/gender-classifier-app.jsx","App.js","reportWebVitals.js","index.js"],"names":["geoToEng","engToGeo","translit","names","res","i","length","name","n","j","char","undefined","push","console","log","a","tf","model","MODEL","loadModel","char_idx","setFlag","tmp","Array","fill","namesToVecs","b","X","substring","predict","then","dataSync","ans","isFemale","Math","floor","toExponential","GenderClassifierApp","props","handleChange","e","setState","input","target","value","handleColor","color","state","gender","g","className","type","onChange","this","onClick","style","Component","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.32d39256.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","const geoToEng = {\r\n    'ა':'a',\r\n    'ბ':'b',\r\n    'გ':'g',\r\n    'დ':'d',\r\n    'ე':'e',\r\n    'ვ':'v',\r\n    'ზ':'z',\r\n    'თ':'t',\r\n    'ი':'i',\r\n    'კ':'k',\r\n    'ლ':'l',\r\n    'მ':'m',\r\n    'ნ':'n',\r\n    'ო':'o',\r\n    'პ':'p',\r\n    'ჟ':'zh',\r\n    'რ':'r',\r\n    'ს':'s',\r\n    'ტ':'T',\r\n    'უ':'u',\r\n    'ფ':'f',\r\n    'ქ':'q',\r\n    'ღ':'gh',\r\n    'ყ':'y',\r\n    'შ':'sh',\r\n    'ჩ':'ch',\r\n    'ც':'c',\r\n    'ძ':'dz',\r\n    'წ':'ts',\r\n    'ჭ':'ch\\'',\r\n    'ხ':'x',\r\n    'ჯ':'j',\r\n    'ჰ':'h'\r\n}\r\n\r\nconst engToGeo = {\r\n    'a':'ა',\r\n    'b':'ბ',\r\n    'c':'ც',\r\n    'd':'დ',\r\n    'e':'ე',\r\n    'f':'ფ',\r\n    'g':'გ',\r\n    'h':'ჰ',\r\n    'i':'ი',\r\n    'j':'ჯ',\r\n    'k':'კ',\r\n    'l':'ლ',\r\n    'm':'მ',\r\n    'n':'ნ',\r\n    'o':'ო',\r\n    'p':'ქ',\r\n    'r':'რ',\r\n    's':'ს',\r\n    't':'თ',\r\n    'u':'უ',\r\n    'v':'ვ',\r\n    'w':'წ',\r\n    'x':'ხ',\r\n    'y':'ყ',\r\n    'z':'ზ',\r\n    'S':'შ',\r\n    'C':'ჩ',\r\n    'R':'ღ',\r\n    'sh':'შ',\r\n    'dz':'ძ',\r\n    'gh':'ღ',\r\n    'W':'ჭ',\r\n    'zh':'ჟ'\r\n}\r\n\r\n/* from X => Geo => Eng */\r\nexport function translit(names) {\r\n    let res = [];\r\n    for (let i = 0; i < names.length; i++) {\r\n        let name = names[i];\r\n        let n = '';\r\n        for (let j = 0; j < name.length; j++){\r\n            let char = name[j];\r\n            if (engToGeo[char]!==undefined){\r\n                char=engToGeo[char];\r\n            }\r\n            if (geoToEng[char]!==undefined){\r\n                char=geoToEng[char];\r\n            }\r\n            n+=char;\r\n        }\r\n        res.push(n);\r\n    }\r\n    console.log(res);\r\n    return res;\r\n}","import * as tf from '@tensorflow/tfjs';\r\nimport { translit } from './translit.js';\r\n\r\nfunction sleep(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\nasync function loadModel() {\r\n    console.log('Loading model');\r\n    const model = await tf.loadLayersModel(\"https://cors-anywhere.herokuapp.com/https://storage.googleapis.com/a1k28cloud/model/model.json\");\r\n    console.log('Model loaded');\r\n    console.log(model);\r\n\treturn model;\r\n};\r\nconst MODEL = loadModel();\r\n\r\nconst MAXLEN = 18;\r\nconst VOCABLEN = 29;\r\nconst char_idx = {'T': 0, 'e': 1, 'p': 2, 's': 3, 'l': 4, \"'\": 5, 'k': 6, \r\n'n': 7, 'q': 8, 'v': 9, 'o': 10, ' ': 11, 'g': 12, \r\n'END': 13, 'i': 14, 'b': 15, '-': 16, 'h': 17, 't': 18, \r\n'f': 19, 'c': 20, 'r': 21, 'j': 22, 'z': 23, 'a': 24, \r\n'm': 25, 'd': 26, 'y': 27, 'u': 28}\r\n\r\nfunction setFlag(i) {\r\n  let tmp = new Array(VOCABLEN).fill(0);\r\n  tmp[i] = 1;\r\n  return tmp;\r\n}\r\n\r\nfunction min(a, b) {\r\n    return a >= b ? a : b;\r\n}\r\n\r\nfunction namesToVecs(names) {\r\n    let X = []\r\n    for (let i = 0; i < names.length; i++) {\r\n        let name = names[i].substring(0, min(MAXLEN, names[i].length));\r\n        let tmp = []\r\n        for (let j = 0; j < name.length; j++) {\r\n            if (char_idx[name[j]] !== undefined) {\r\n                tmp.push(setFlag(char_idx[name[j]]));\r\n            } else {\r\n                tmp.push(setFlag(char_idx[' ']));\r\n            }\r\n        }\r\n        for (let j = 0; j < MAXLEN-name.length; j++) {\r\n            tmp.push(setFlag(char_idx['END']))\r\n        }\r\n        X.push(tmp);\r\n    }\r\n    return X;\r\n}\r\n\r\nexport async function predict(names) {\r\n    names = translit(names);\r\n    let X = namesToVecs(names);\r\n    let ans = await MODEL.then((model) => {\r\n        const res = model.predict(tf.tensor(X)).dataSync();\r\n        let ans = []\r\n        for (let i = 1; i < res.length; i+=2) {\r\n            let isFemale = res[i];\r\n            ans.push([names[Math.floor(i/2)], isFemale.toExponential(2)]);\r\n        }\r\n        return ans;\r\n    });\r\n    return ans[0];\r\n}","import React, { Component } from 'react'\r\n\r\nimport './style/gender-classifier-app.css'\r\nimport { predict } from './predict.js';\r\n\r\nexport default class GenderClassifierApp extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            gender: [,]\r\n        }\r\n    }\r\n\r\n    componentDidMount() {}\r\n\r\n    handleChange = (e) => {\r\n        this.setState({input: e.target.value})\r\n    }\r\n\r\n    handleColor = () => {\r\n        this.setState({color: this.state.gender[1] > 0.5 ? 'violet' : 'cyan'})\r\n    }\r\n\r\n    predict = async() => {\r\n        let g = [,]\r\n        if (this.state.input.length>0){\r\n            g = await predict([this.state.input]);   \r\n        }\r\n        this.setState({gender: g});\r\n        this.handleColor();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className='GI'>\r\n                    <input className='gender-input' type=\"text\" onChange={ this.handleChange } />\r\n                    <input\r\n                        type=\"button\"\r\n                        className='gender-button'\r\n                        value=\"Gender Me!\"\r\n                        onClick={this.predict}\r\n                    />\r\n                </div>\r\n                <div \r\n                className='result-text' \r\n                style={{color : this.state.color}}>\r\n                    {this.state.gender[0]} {this.state.gender[1]}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import logo from './logo.svg';\nimport './App.css';\nimport GenderClassifierApp from './gender-classifier/gender-classifier-app';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <GenderClassifierApp></GenderClassifierApp>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}